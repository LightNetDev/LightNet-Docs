---
title: Fundamentals
---

import { FileTree, Aside } from "@astrojs/starlight/components";

This chapter introduces how pages are created with LightNet. Most of the concepts presented are Astro concepts, we 
recommend using the [Astro documentation](https://docs.astro.build) if you want dive deeper.

## Routing

The routes of your media site are defined by the files inside the `src/pages` folder.
The path within the `src/pages` folder will be the route of the page. 
For example, a page at `src/pages/en/about.astro` will be available at `https://your.site/en/about`.

In addition to the routes of the pages folder LightNet will automatically add:

- **Redirect to Homepage**: When users visit the root path of your site (`https://your.site/`), they will see the homepage in the default site language.
- **Search Page**: A page that displays all media items. This is on the `[locale]/media` route.
- **Details Page**: A page that displays the details of a specific media item. This is on the `[locale]/media/[id]` route.
- **404 Page**: A page that is displayed when a user tries to access a page that does not exist. This is on the `/404` route.


## Understand the page folder structure

The structure of the pages folder directly maps to the available paths of your site.
With LightNet every pages needs to have a locale folder at its top level.
By convention all LightNet pages are stored in a folder with the locale. 
For example, the English version of the about page would be stored in `src/pages/en/about.astro`. 
The locale code is used to infer the language of the page.

With Astro you have two options on how to name your locale folders:

- **static**: You can create a folder for each locale. For example, `src/pages/en/about.astro` and `src/pages/de/about.astro`.
- **dynamic**: You can use square brackets in the file name to create dynamic routes. For example, a file at `src/pages/[locale]/about.astro` will be available at the `/:locale/about` route. The `:locale` part will be replaced by the actual locale of the site. You need to export all available locales in the `getStaticPaths` function. We offer a helper function to generate the static paths for all locales. You can use it like this:

We offer a helper function to generate the dynamic paths for all locales. You can use it like this:

```astro title="src/pages/[locale]/about.astro"
---
export { getLocalePaths as getStaticPaths } from "lightnet/i18n"
---
```

Inside a component on dynamic path you can use `Astro.currentLocale` to get the current locale of the site.



## Basic file layout

This is the basic layout of the homepage's `index.astro` file:

```astro title="src/pages/[locale]/index.astro"
---
export { getLocalePaths as getStaticPaths } from "lightnet/i18n"
import { Page } from "lightnet/components"
---
<Page>
    {/* Add your content here */}
</Page>
```

This file is an Astro component. Everything inside the `---` is the frontmatter. It will be executed while your site is being built. Use this part to import your components and define your page's variables. For example, you will query media items here.

The export of `getLocalePaths` is used to generate the static paths for the site. This will export all available locales for the site. You need this because the homepage is a localized page that will be translated into all available site languages.

Everything below the frontmatter is the actual content of the page. You can add any HTML here. We provide 
reusable components that you can use to build your page. More details below.

The `Page` component handles the layout of the page. This will add the header, language switcher, menu system... You should wrap your content with this component to ensure that your page is styled correctly.

<Aside type="tip">
The homepage file is using the Astro templating language. It is highly recommended to [learn more about Astro](https://astro.build/) to get a deep understanding of how to extend it.
</Aside>
